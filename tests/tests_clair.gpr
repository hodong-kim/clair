with "../clair.gpr";

project Tests_Clair is

  for Languages use ("Ada", "C");

  for Source_Dirs use (".");
  for Object_Dir  use "../obj/tests";
  for Exec_Dir    use "../bin/tests";

  for Main use ("test_clair_arena.adb",
                "test_clair_event_loop_main.adb",
                "test_clair_log.adb",
                "test-clair-c-api.c");

  package Builder is
    for Executable ("test_clair_arena.adb") use "test-clair-arena";
    for Executable ("test_clair_event_loop_main.adb")  use "test-clair-event-loop-main";
    for Executable ("test_clair_log.adb")   use "test-clair-log";
    for Executable ("test-clair-c-api.c")   use "test-clair-c-api";
  end Builder;

  package Compiler is
    for Default_Switches ("Ada") use ("-fPIC",
                                      "-O2",
                                      "-gnat2022",
                                      "-gnatwa",
                                      "-gnatwe",
                                      "-gnaty2M80");
    for Default_Switches ("C")   use ("-fPIC",
                                      "-I../../include",
                                      "-Wall",
                                      "-Werror");
  end Compiler;

end Tests_Clair;
